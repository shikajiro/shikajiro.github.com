<!DOCTYPE html>
<html lang="ja">
<head>
        <title>shikajiro blog</title>
        <meta charset="utf-8" />
        <meta property="og:type" content="website" />
        <meta property="og:site_name" content="shikajiro blog" />
        <meta property="og:image" content="https://shikajiro.github.io/images/profile.jpg" />
        <meta property="og:title" content="shikajiro blog" />
        <meta property="og:url" content="https://shikajiro.github.io" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="https://shikajiro.github.io/theme/css/main.css" />
</head>
<body>

    <div class="navigation pure-menu pure-menu-horizontal">
        <a href="https://shikajiro.github.io/" class="pure-menu-heading  pure-menu-link">shikajiro blog</a>
        <ul class="pure-menu-list">
            <li class="pure-menu-item"></li>
            <li class="pure-menu-item"><a href="/profile" class="pure-menu-link">Profile</a></li>
            <li class="pure-menu-item"><a href="/works" class="pure-menu-link">Works</a></li>
            <li class="pure-menu-item"><a href="/archives" class="pure-menu-link">Archives</a></li>
            <li class="pure-menu-item"><a href="/categories" class="pure-menu-link">Categories</a></li>
            <li class="pure-menu-item"><a href="/tags" class="pure-menu-link">Tags</a></li>

        </ul>
    </div>


<div class="main-container">
    <div class="pure-g">
        <div class="pure-u-1 pure-u-lg-2-3">


<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2020-07-08T22:36:00+09:00">水 08 7月 2020</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/blog/2020/07/08/current-activity/" rel="bookmark" title="Permalink to Androidで現在起動中のActivityを知る方法">Androidで現在起動中のActivityを知る方法</a></h2>
    <div class="post-content">
        <p>Android開発にて Activity, Fragment での画面遷移が入り乱れる実装をしていると、現在動かしている画面のActivityが何なのか知りたくなることがある。</p>
<p>昔の LayoutInspector や adb でも調べることができるけど、ログに出力する方法を書き残す。</p>
<p>ActivityLifecycleCallbacks を使って、activityがアクティブになった段階でログを出力すれば良い。</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MainApplication</span> <span class="p">:</span> <span class="n">Application</span><span class="p">()</span> <span class="p">{</span>

    <span class="k">private</span> <span class="k">val</span> <span class="py">activityLifecycleCallbacks</span> <span class="p">=</span> <span class="k">object</span> <span class="p">:</span> <span class="nc">ActivityLifecycleCallbacks</span> <span class="p">{</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">onActivityCreated</span><span class="p">(</span><span class="n">activity</span><span class="p">:</span> <span class="n">Activity</span><span class="p">,</span> <span class="n">bundle</span><span class="p">:</span> <span class="n">Bundle</span><span class="p">?)</span> <span class="p">{}</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">onActivityStarted</span><span class="p">(</span><span class="n">activity</span><span class="p">:</span> <span class="n">Activity</span><span class="p">)</span> <span class="p">{}</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">onActivityResumed</span><span class="p">(</span><span class="n">activity</span><span class="p">:</span> <span class="n">Activity</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Timber</span><span class="p">.</span><span class="n">i</span><span class="p">(</span><span class="s">&quot;current activity is $activity&quot;</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">override</span> <span class="k">fun</span> <span class="nf">onActivityPaused</span><span class="p">(</span><span class="n">activity</span><span class="p">:</span> <span class="n">Activity …</span></code></pre></div>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2020/07/08/current-activity/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2018-12-16T14:00:00+09:00">日 16 12月 2018</abbr>
</div>    </div>
    <a href="https://shikajiro.github.io/blog/2018/12/16/flutter_dogs/"><img src="https://pbs.twimg.com/profile_images/976974808213733376/XL-QI99V_400x400.jpg" alt="犬のためのアプリを作っている" class="post-image"/></a>
    <h2><a href="https://shikajiro.github.io/blog/2018/12/16/flutter_dogs/" rel="bookmark" title="Permalink to 犬のためのアプリを作っている">犬のためのアプリを作っている</a></h2>
    <div class="post-content">
        <p>ZOZOテクノロジーズの愉快なエンジニア AdventCalendar その2、16日目です。12月も半分過ぎました。やばいですね。</p>
<p>ZOZOのAdventCalendarですが完全にZOZOとは関係ない、個人的趣味な記事になります。</p>
<p><em>いぬをささえるぎじゅつ</em> と題して、趣味レベルでコツコツ作っている犬のアプリについて書きます。</p>
<h2>なぜ いぬをささえるぎじゅつ なのか</h2>
<p>うちの愛犬のもなかです。 ウェルシュコーギーペンブローク♀推定8歳 <a href="https://www.instagram.com/monakoala/">instagram</a></p>
<p><img alt="" src="https://pbs.twimg.com/profile_images/976974808213733376/XL-QI99V_400x400.jpg"></p>
<p>めちゃくちゃ可愛いですね。我が家のアイドルです。</p>
<p>子供の頃から犬🐶が好きで、大人になったらたくさん犬を飼おうと思ってました。思ったとおりの大人には成れてないですが、最愛の犬と暮らすことができるようになりました。
もなかと暮らすようになって、犬を取り巻く人間社会が見えてくるようになりました。
なにか自分でも犬達の為になることができるんじゃないかと考えました。
僕はIT技術にしか取り柄が無いので、この力を持って彼らの力になろうと思います。</p>
<h2>愛犬の健康を管理する</h2>
<p><img alt="" src="/images/45550733_163527401272115_1647419605745716597_n.jpg"></p>
<p>もなかは3年前に我が家の一員になりましたが、その時から尿結石を患ってました。
食べ物はPh値を調整するドックフードにし、水は軟水を徹底し、しっこの回数や量なんかをしばらく監視してました。</p>
<p>石は手術で取り、以後尿結石はできてません。しかし、ノミダニ予防、フィラリア予防、狂犬病予防など、健康な犬でも日々予防するものはあります。
最近では膀胱炎にもなりました。薬を飲むと体に負担がかかり、数週間つらい思いをしていました。</p>
<p>そんな自分が欲しかった <em>愛犬の健康を管理する</em> アプリを作っています。
王道ですが …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2018/12/16/flutter_dogs/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">


<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/flutter.html" class="category">Flutter</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2018-08-24T00:45:00+09:00">金 24 8月 2018</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/blog/2018/08/24/flutter_mvvm/" rel="bookmark" title="Permalink to Flutter で MVVM をやる">Flutter で MVVM をやる</a></h2>
    <div class="post-content">
        <p>趣味で flutter を始めました。MVVMを書く時どうしたらいいのか調べてみました。
この記事を参考にやってみました。</p>
<p><a href="https://quickbirdstudios.com/blog/mvvm-in-flutter/">App architecture: MVVM in Flutter using Dart Streams - QuickBird Studios Blog</a>
<img alt="" src="https://quickbirdstudios.com/blog/wp-content/uploads/2018/06/comic_mvvm_flutter-768x591.jpg"></p>
<p>他にもこのスライドが超役に立ちました。まだ使ってないことも書いてるので今度試します。
<iframe src="//www.slideshare.net/slideshow/embed_code/key/eWd2eGYKNQiZKy" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/cch-robo/flutter-set-state-redux" title="Flutter のリアクティブ戦略 set state 〜 redux まで" target="_blank">Flutter のリアクティブ戦略 set state 〜 redux まで</a> </strong> from <strong><a href="https://www.slideshare.net/cch-robo" target="_blank">cch-robo</a></strong> </div></p>
<h2>実現すること</h2>
<p><img alt="" src="/images/2018-08-24-flutter/stream.gif"></p>
<ol>
<li>メニューを選択する。 </li>
<li>ダイアログから選ぶ</li>
<li>選んだデータがメニューのところに反映される。</li>
</ol>
<p>みたいなことを実現したいと思います。</p>
<h2>ViewModelの書き方</h2>
<p>Flutter は標準で Stream があります。これを使うとreactive programing っぽい事ができます。※別途rxDartもありますがここでは紹介しません。</p>
<p>まずは ViewModel の Interface を定義します。Dartは暗黙的にInterfaceが定義されているので、abstract class で作ります …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2018/08/24/flutter_mvvm/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2017-09-27T19:31:00+09:00">水 27 9月 2017</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/2017/09/27/toothpick/" rel="bookmark" title="Permalink to Android の DI を Dagger から ToothPick に代えた">Android の DI を Dagger から ToothPick に代えた</a></h2>
    <div class="post-content">
        <p><img alt="" src="https://camo.githubusercontent.com/24ff6ae4cd9e20cddbaf1c027651e1545b912724/68747470733a2f2f7261772e6769746875622e636f6d2f7374657068616e656e69636f6c61732f746f6f74687069636b2f6d61737465722f6173736574732f6c6f676f2e6a7067"></p>
<p>Dagger2 がほんとに辛い。
公式サイト見たり、先駆者の皆さんのブログを見ながらやってみるけど、ややこしくて自分で改善するのはかなり辛い。使っているというより、言われたとおりに設定するだけで精一杯。</p>
<p>そんなことをぼやいてたら Realm と ウフィカ の中の人 <a href="https://twitter.com/zaki50">@zaki50</a> さんから</p>
<blockquote class="twitter-tweet" data-lang="ja"><p lang="ja" dir="ltr">toothpickためそ？</p>&mdash; zaki50 (@zaki50) <a href="https://twitter.com/zaki50/status/903553963747717121">2017年9月1日</a></blockquote>

<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>とアドバイス頂いたので試してみました。</p>
<p><a href="https://github.com/stephanenicolas/toothpick">stephanenicolas/toothpick: A scope tree based Dependency Injection (DI) library for Java</a></p>
<p>サイトを見て設定すれば動くんだけど、どうしても見落としがちなとことかあるので、簡単に紹介します。</p>
<h2>Toothpick とは</h2>
<p>Java の DI です。 とはいえ、主に Android を対象にしてる気がします。
ツリースコープなので、「Activity で Inject してたら Fragment …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/2017/09/27/toothpick/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">


<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/articles.html" class="category">articles</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2016-12-14T06:20:00+09:00">水 14 12月 2016</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/2016/12/13/freelance/" rel="bookmark" title="Permalink to フリーランス残酷物語 14日目">フリーランス残酷物語 14日目</a></h2>
    <div class="post-content">
        <p>この記事は「<a href="http://qiita.com/advent-calendar/2016/free_zankoku">フリーランス残酷物語 Advent Calendar 2016</a>」 14日目の記事です。</p>
<p>気がつけばフリーランスになって6年経ちました。<a href="https://www.facebook.com/KojikayaShikajiro/?fref=ts">こじか屋</a>のしかじろうです。
フリーランスとしては中の下くらいだと思ってます。かろうじて生きてます。
受託だったり保守だったり講師だったり社員教育だったり趣味サービスやってます。</p>
<p>あと、もなかが可愛いです。
<img alt="" src="/assets/monaka.jpg">
<a href="https://www.instagram.com/monakoala/">instagram</a></p>
<p>残酷な話をすると心が滅入るので、「残酷にならないためにはどうしたらいいか」っていう事を書こうと思います。</p>
<h2>まとめ</h2>
<p>これを読もう</p>
<p><a href="http://amzn.to/2hnFtq5">SOFT SKILLS ソフトウェア開発者の人生マニュアル</a>
<a href="https://www.amazon.co.jp/gp/product/4822251551//ref=as_li_ss_il?ie=UTF8&linkCode=li2&tag=shikajiro-22&linkId=9dff9daa5902a1e5f8805c9af7b79fdd" target="_blank"><img border="0" src="//ws-fe.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=4822251551&Format=_SL160_&ID=AsinImage&MarketPlace=JP&ServiceVersion=20070822&WS=1&tag=shikajiro-22" ></a><img src="https://ir-jp.amazon-adsystem.com/e/ir?t=shikajiro-22&l=li2&o=9&a=4822251551" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" /></p>
<h2>収入分散化の勧め</h2>
<p>技術力があって１システム全部作れると受託が金額的に良かったりします。ので、受託ばかり受けがちになってしまいます。</p>
<div class="highlight"><pre><span></span><code><span class="err">「じゃあこのシステム、200万でよろしくお願いします。」</span>
<span class="err">『たまんねぇぜ(^q^)ｼﾞｭﾙﾘ』</span>
</code></pre></div>


<p>でも受託ばかりやっていると収入の波ができてしまいます。200万の入金の月もあれば、0円の月もあります。
これだと資金の見通しが立たず、なかなか経営が安定できません。
「自社サービスを作ろう！」と思ってもなかなか着手出来なかったりします。</p>
<ul>
<li>受託</li>
<li>長期の保守</li>
<li>定期的な講師業</li>
<li>スパンの長い社員教育</li>
</ul>
<p>上記は僕がやってる or やってたものです。複数の収入先を確保すると安定します。心にも余裕ができます。</p>
<p>理想は不労所得です。寝ずに仕事すれば収入は増えますが長続きしません …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/2016/12/13/freelance/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2016-08-10T06:20:00+09:00">水 10 8月 2016</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/2016/08/09/androidunittestmd/" rel="bookmark" title="Permalink to AndroidのTestまとめ">AndroidのTestまとめ</a></h2>
    <div class="post-content">
        <p>この記事をまとめるにあたって
<a href="https://developer.android.com/training/testing/index.html">Best Practices for Testing | Android Developers</a> を主に参考にしています。</p>
<p>Androidのテストは大きく分けて <code>Unit test</code> と <code>UI test</code> の２種類があり、実装方法や対象などで分けると5種類ある。</p>
<table>
<thead>
<tr>
<th>ジャンル</th>
<th>テストの種類</th>
<th align="left">Androidへの依存</th>
<th align="left">主に利用するツール</th>
<th align="left">特徴</th>
</tr>
</thead>
<tbody>
<tr>
<td>Unit Test</td>
<td>local unit Test</td>
<td align="left">なし</td>
<td align="left">Mockito</td>
<td align="left">java VMで動作する</td>
</tr>
<tr>
<td></td>
<td>instrumentation Test</td>
<td align="left">あり</td>
<td align="left">hamcrest</td>
<td align="left">Android上で動作する</td>
</tr>
<tr>
<td></td>
<td>App Component Test</td>
<td align="left">あり</td>
<td align="left"></td>
<td align="left">Serviceなどのテスト</td>
</tr>
<tr>
<td>UI Test</td>
<td>single app Test</td>
<td align="left">あり</td>
<td align="left">espresso</td>
<td align="left"></td>
</tr>
<tr>
<td></td>
<td>multi app Test …</td></tr></tbody></table>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/2016/08/09/androidunittestmd/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">


<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/fukuoka.html" class="category">Fukuoka</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2015-10-06T14:53:00+09:00">火 06 10月 2015</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/fukuoka-it-slack-group.html" rel="bookmark" title="Permalink to Fukuoka IT Slack Group">Fukuoka IT Slack Group</a></h2>
    <div class="post-content">
        <p><img alt="image" src="/images/fukuokaitslack.png"></p>
<p><a href="https://fukuokaitslack.herokuapp.com/">Fukuoka Slack Group</a></p>
<h2>Fukuoka IT Slack Group とはなにか</h2>
<p>福岡のIT系の人が集まるSlackグループです。</p>
<p>以下の方たちを想定してます</p>
<ul>
<li>エンジニア</li>
<li>デザイナ</li>
<li>クリエイター</li>
<li>学生</li>
<li>経営者</li>
<li>その他</li>
</ul>
<p>楽しそうだなと思ったら、基本どなたでもOKっす。</p>
<ul>
<li>#Android</li>
<li>#backend</li>
<li>#javascript</li>
<li>#python</li>
<li>#english (英語の会話のみ)</li>
<li>#gohan (飲食店)</li>
<li>#alcohol (飲み会)</li>
<li>#shakaijin (社会人)</li>
<li>#ika (splatoon)</li>
</ul>
<p>などなど、チャンネルもカオスな感じになってきてます。
参加もチャンネル作成も自由ですので、ご自由にどうぞー。</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/fukuoka-it-slack-group.html">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">


<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/d3js.html" class="category">D3.js</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2014-06-12T00:00:00+09:00">木 12 6月 2014</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/blog/2014/06/12/start-d3js/" rel="bookmark" title="Permalink to D3.jsはじめ">D3.jsはじめ</a></h2>
    <div class="post-content">
        <p>BigDataをグラフィカルに表現したい！</p>
<p>あふれた情報だけど、 D3.js を動かし始めるとこまでやってみる。
フロントエンドが久々なので、最近のトレンドも踏まえながらやってみる。</p>
<h2>環境構築</h2>
<p>bower というのを使えばパッケージ管理できるらしい！すげぇ！（なぜ今まで無かったのか）</p>
<div class="highlight"><pre><span></span><code><span class="err">bower install d3.js</span>
</code></pre></div>


<p>htmlコードにはこんな感じで</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    ...
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;bower_components/d3/dist/d3.min.js&#39;&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    ...
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></pre></div>


<h2>D3をとりあえず動かす</h2>
<p>適当にpタグでも作っておく</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;chart&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</code></pre></div>


<p>TODO:簡単に図を表示するコード</p>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">hoge</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="s2">&quot;#chart&quot;</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;svg&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;width&quot;</span><span class="p">,</span> <span class="nx">chart</span><span class="p">.</span><span class="nx">width</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">attr …</span></code></pre></div>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2014/06/12/start-d3js/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2014-04-10T00:00:00+09:00">木 10 4月 2014</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/blog/2014/04/10/android-jenkins/" rel="bookmark" title="Permalink to Gradleで管理されたAndroidProjectのEspressoテストをGenymotionを使ってjenkinsでぐるぐる回すまで(長い)">Gradleで管理されたAndroidProjectのEspressoテストをGenymotionを使ってjenkinsでぐるぐる回すまで(長い)</a></h2>
    <div class="post-content">
        <p><img alt="image" src="../images/menu.png"></p>
<p>Gradleで管理されたAndroidプロジェクトをJenkinsで動かすまで苦しんだのでまとめます。</p>
<h2>環境</h2>
<ul>
<li>MacOS 10.8.5</li>
<li>Java 1.7</li>
<li>Gradle 1.11</li>
<li>Android Studio 0.5.3</li>
<li>Espresso 1.1</li>
<li>Jenkins 1.5558</li>
<li>git plugin</li>
<li>gradle plugin</li>
</ul>
<h3>前提</h3>
<p>Android StudioでEspressoのテストが</p>
<div class="highlight"><pre><span></span><code><span class="err">./gradlew connectedAndroidTest</span>
</code></pre></div>


<p>で動いてるものとします。</p>
<h3>諦めたこと</h3>
<p>Android Emulator Plugin は諦めました。 なぜか以下のメッセージを出して途中で止まります。</p>
<div class="highlight"><pre><span></span><code><span class="err">android completed with result NOT_BUILT</span>
</code></pre></div>


<p>動くこともある。動かないこともある。不安定過ぎるのでエミュレーターを断念。</p>
<h3>Genymotionで代用</h3>
<p>エミュレーターをGenymotionに置き換えました。 以下Genymotionをjenkinsで呼び出す流れ …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2014/04/10/android-jenkins/">Read more</a>
    </div>
</div>
<div class="post">
    <div class="post-meta pure-g">

        <div class="pure-u">
            <img src="https://developer.android.com/images/brand/Android_Robot_200.png" class="post-avatar" alt="Android">
        </div>

<div class="pure-u-3-4 meta-data">
    <a href="https://shikajiro.github.io/category/android.html" class="category">Android</a><br />

    <a class="author" href="https://shikajiro.github.io/author/shikajiro.html">shikajiro</a>
    &mdash; <abbr title="2013-12-04T23:23:00+09:00">水 04 12月 2013</abbr>
</div>    </div>
    <h2><a href="https://shikajiro.github.io/blog/2013/12/04/android-annotations-advent-calendar/" rel="bookmark" title="Permalink to とあるプログラマのAndroidAnnotations">とあるプログラマのAndroidAnnotations</a></h2>
    <div class="post-content">
        <p><center>
<img src="/images/cv_aa.png">
</center></p>
<p>※この記事は<a href="http://qiita.com/advent-calendar/2013/android">Android Advent Calendar 2013</a> 12/04担当として書いてます。</p>
<p>勢いでAdvent Calendar登録したけど、最近新しいこと、突き詰めたことしてない。
Genymotionは 明日の mofmofneko さんが書くみたいだからやめておこう。</p>
<p>ブログ自体半年くらい放置してた。この半年でやったことをとりあえず箇条書きにしてみる。</p>
<ul>
<li>Android Annotations</li>
<li>Android Studio</li>
<li>Genymotion</li>
<li>GreenDAO</li>
<li>Guava</li>
<li>デジハリ講師業はじめる。</li>
<li>iPhone4SからNexus5に機種変</li>
<li>働き過ぎて瀕死になる</li>
</ul>
<p>自分の中で一番テンション上がってるのがAndroid Annotationsなので、今回はこれのお話にする。</p>
<p><a href="http://androidannotations.org/">AndroidAnnotations</a></p>
<p>AndroidAnnotationsでできることはコードの軽量化。以下の２つが主なメリット。</p>
<ul>
<li>開発スピードの向上</li>
<li>メンテナンスの簡素化</li>
</ul>
<p>冗長な処理をシンプルにし、コード量を少なくする。結果、メンテナンスが楽になるメリットがある。</p>
<h1>設定方法と使い方</h1>
<p>書かれ尽くされたネタなので公式サイトをどうぞ。</p>
<h1>僕なりの書き方</h1>
<p>注意：ココ最近の情報は追っかけてません。</p>
<h2>RestとBean</h2>
<p>やっぱRestの処理がシンプルになるのがかなり嬉しい。一般的なWegAPIを叩くアプリなら、Interfaceの実装でほぼ終わってしまう。</p>
<p>[gist:id …</p>
    </div>
    <div class="post-footer">
        <a href="https://shikajiro.github.io/blog/2013/12/04/android-annotations-advent-calendar/">Read more</a>
    </div>
</div>

<div class="pagination">
    <div class="post-meta pure-g">
        <div class="pure-u-1-2 left">
        </div>
        <div class="pure-u-1-2 right">
            <a href="https://shikajiro.github.io/index2.html">More articles</a>
        </div>
    </div>
</div>

        </div>

        <div class="pure-u-1 pure-u-lg-1-3">
            <div class="right-container">
                <div class="right-bar">
                    <div class="right-head">
                         Tags
                    </div>
                    <div class="tags">
                    <a href="https://shikajiro.github.io/tag/android.html">Android</a>
                    <a href="https://shikajiro.github.io/tag/debug.html">debug</a>
                    <a href="https://shikajiro.github.io/tag/d3js.html">D3.js</a>
                    <a href="https://shikajiro.github.io/tag/pelican.html">pelican</a>
                    <a href="https://shikajiro.github.io/tag/python.html">python</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>



    <footer class="index-footer">

        <a href="https://shikajiro.github.io/" title="shikajiro blog">shikajiro blog</a>
        <a href="/profile">Profile</a></li>
        <a href="/works">Works</a></li>
        <a href="/archives">Archives</a></li>
        <a href="/categories">Categories</a></li>
        <a href="/tags">Tags</a></li>

    </footer>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-389036-10', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>